{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\ComboBoxHeal.js"],"names":["cc","Class","extends","Component","properties","triangle","Node","comboLabel","Label","dropDown","vLayoutNode","contentNode","itemPrefab","Prefab","onLoad","isDropDown","itemArray","initItems","rotateTriangle","runAction","rotateTo","easing","easeCubicActionOut","showHideDropDownBox","active","comboboxClicked","totalHeight","i","length","item","instantiate","children","getComponent","string","initComboBox","addChild","height","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAUL,GAAGM,IADL,EACoB;AAC5BC,oBAAYP,GAAGQ,KAFP,EAEoB;AAC5BC,kBAAUT,GAAGM,IAHL,EAGoB;AAC5BI,qBAAaV,GAAGM,IAJR,EAIoB;AAC5BK,qBAAaX,GAAGM,IALR,EAKoB;AAC5BM,oBAAYZ,GAAGa,MANP,CAMoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBQ,KAHP;;AA2BL;;AAEAC,UA7BK,oBA6BK;AACN,aAAKC,UAAL,GAAkB,KAAlB;AACA;AACA,aAAKC,SAAL,GAAiB,CAAC,KAAD,EAAQ,KAAR,EAAgB,KAAhB,EAAsB,KAAtB,CAAjB;AACA,aAAKC,SAAL;AACH,KAlCI;AAmCLC,kBAnCK,4BAmCa;AACd;AACA,YAAI,CAAC,KAAKH,UAAV,EAAsB;AAClB,iBAAKV,QAAL,CAAcc,SAAd,CAAwBnB,GAAGoB,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,EAAsBC,MAAtB,CAA6BrB,GAAGsB,kBAAH,EAA7B,CAAxB;AACH,SAFD,MAGK;AACD,iBAAKjB,QAAL,CAAcc,SAAd,CAAwBnB,GAAGoB,QAAH,CAAY,GAAZ,EAAiB,CAAjB,EAAoBC,MAApB,CAA2BrB,GAAGsB,kBAAH,EAA3B,CAAxB;AACH;AACJ,KA3CI;AA4CLC,uBA5CK,iCA4CkB;AACnB;AACA,YAAI,CAAC,KAAKR,UAAV,EACI,KAAKN,QAAL,CAAce,MAAd,GAAuB,IAAvB,CADJ,KAGI,KAAKf,QAAL,CAAce,MAAd,GAAuB,KAAvB;AACP,KAlDI;AAmDLC,mBAnDK,6BAmDc;AACf;AACA,aAAKP,cAAL;AACA;AACA,aAAKK,mBAAL;AACA;AACA,YAAI,CAAC,KAAKR,UAAV,EACI,KAAKA,UAAL,GAAkB,IAAlB,CADJ,KAGI,KAAKA,UAAL,GAAkB,KAAlB;AACP,KA7DI;AA8DLE,aA9DK,uBA8DQ;AACT;AACA,YAAIS,cAAc,CAAlB;AACA,aAAK,IAAIC,IAAE,CAAX,EAAcA,IAAE,KAAKX,SAAL,CAAeY,MAA/B,EAAuCD,GAAvC,EAA4C;AACxC,gBAAIE,OAAO7B,GAAG8B,WAAH,CAAe,KAAKlB,UAApB,CAAX;AACAiB,iBAAKE,QAAL,CAAc,CAAd,EAAiBC,YAAjB,CAA8BhC,GAAGQ,KAAjC,EAAwCyB,MAAxC,GAAiD,KAAKjB,SAAL,CAAeW,CAAf,CAAjD;AACAE,iBAAKG,YAAL,CAAkB,MAAlB,EAA0BE,YAA1B,CAAuC,IAAvC;AACA,iBAAKxB,WAAL,CAAiByB,QAAjB,CAA0BN,IAA1B;AACAH,2BAAeG,KAAKO,MAApB;AACH;;AAED;AACA,YAAIV,cAAc,KAAKf,WAAL,CAAiByB,MAAnC,EACI,KAAKzB,WAAL,CAAiByB,MAAjB,GAA0BV,WAA1B;AACP,KA5EI;AA6ELW,SA7EK,mBA6EI,CAER;AA/EI;;AAiFL;AAjFJ","file":"ComboBoxHeal.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        triangle: cc.Node,          // 下拉按钮右边的小三角形\r\n        comboLabel: cc.Label,       // 下拉按钮上显示的文本\r\n        dropDown: cc.Node,          // 下拉框\r\n        vLayoutNode: cc.Node,       // 垂直布局\r\n        contentNode: cc.Node,       // 滚动视图内容\r\n        itemPrefab: cc.Prefab       // 下拉框选项\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.isDropDown = false;\r\n        // 下拉框选项内容\r\n        this.itemArray = ['奶 毒', '奶 花',  '奶 秀','奶 歌'];\r\n        this.initItems();\r\n    },\r\n    rotateTriangle () {\r\n        // 旋转小三角形(正值为逆时针，负值为顺时针)\r\n        if (!this.isDropDown) {\r\n            this.triangle.runAction(cc.rotateTo(0.5, -90).easing(cc.easeCubicActionOut()));\r\n        }\r\n        else {\r\n            this.triangle.runAction(cc.rotateTo(0.5, 0).easing(cc.easeCubicActionOut()));\r\n        }\r\n    },\r\n    showHideDropDownBox () {\r\n        // 下拉框显示与隐藏\r\n        if (!this.isDropDown) \r\n            this.dropDown.active = true;\r\n        else \r\n            this.dropDown.active = false;\r\n    },\r\n    comboboxClicked () {\r\n        // 旋转小三角形\r\n        this.rotateTriangle();\r\n        // 下拉框显示与隐藏\r\n        this.showHideDropDownBox();\r\n        // 改变isDropDown值\r\n        if (!this.isDropDown)\r\n            this.isDropDown = true;\r\n        else \r\n            this.isDropDown = false;\r\n    },\r\n    initItems () {\r\n        // 根据数组初始化下拉框中的各个选项内容\r\n        let totalHeight = 0;\r\n        for (let i=0; i<this.itemArray.length; i++) {\r\n            let item = cc.instantiate(this.itemPrefab);\r\n            item.children[1].getComponent(cc.Label).string = this.itemArray[i];\r\n            item.getComponent('Item').initComboBox(this);\r\n            this.vLayoutNode.addChild(item);\r\n            totalHeight += item.height;\r\n        }\r\n     \r\n        // 设置content高度\r\n        if (totalHeight > this.contentNode.height) \r\n            this.contentNode.height = totalHeight;\r\n    },\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}